[gd_scene load_steps=17 format=2]

[ext_resource path="res://Scripts/Navigation2D.gd" type="Script" id=1]
[ext_resource path="res://Scripts/Destination.gd" type="Script" id=2]
[ext_resource path="res://Tilesets/Floors.tres" type="TileSet" id=3]
[ext_resource path="res://Scenes/Door.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scenes/LockedDoor.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scenes/Characters/Player.tscn" type="PackedScene" id=6]
[ext_resource path="res://Scenes/Characters/SecurityCamera.tscn" type="PackedScene" id=7]
[ext_resource path="res://Tilesets/AutoTileWalls.tres" type="TileSet" id=8]
[ext_resource path="res://Scripts/VisionMode.gd" type="Script" id=9]
[ext_resource path="res://Scenes/Characters/Character.tscn" type="PackedScene" id=10]
[ext_resource path="res://Scenes/Characters/Guard.tscn" type="PackedScene" id=11]
[ext_resource path="res://Tilesets/Furniture.tres" type="TileSet" id=12]
[ext_resource path="res://Scenes/Computer.tscn" type="PackedScene" id=13]
[ext_resource path="res://Scenes/CodeGenerator.tscn" type="PackedScene" id=14]
[ext_resource path="res://Theme.tres" type="Theme" id=15]

[sub_resource type="NavigationPolygon" id=1]
vertices = PoolVector2Array( 210.223, 244.869, 251.008, 1017.3, 227.732, 590.222, -231.872, 350.038, -207.841, 266.643, -138.163, 318.901, -83.1076, 351.004, -49.6153, 315.998, 82.6824, 272.758, 79.6636, 202.723, 342.899, 208.761, 326.477, -241.879, 502.772, -240.672, 504.583, -71.6214, 438.775, -72.2251, 390.475, -78.8664, 955.003, 138.795, 956.31, 250.419, 36.0297, -62.8719, 36.0297, -237.065, 234.103, -234.634, 234.103, 72.6751, -247.449, 1014.65, -246.845, 967.555, 205.968, 967.555, 205.365, 883.633, 109.297, 585.608, -236.581, 877.596, -231.066, 564.223, -84.4539, 558.417, 113.912, 422.568, 341.812, 108.779, -48.8146, 109.987, -51.2296, -10.6426, 325.27, -80.6776, 392.286, 72.0713, 442.397, 142.589, 227.732, 427.182 )
polygons = [ PoolIntArray( 0, 1, 2 ), PoolIntArray( 3, 4, 5 ), PoolIntArray( 6, 3, 5, 7 ), PoolIntArray( 8, 9, 10, 0 ), PoolIntArray( 11, 12, 13, 14, 15 ), PoolIntArray( 16, 17, 0, 10 ), PoolIntArray( 18, 19, 20, 21 ), PoolIntArray( 1, 22, 23, 24 ), PoolIntArray( 2, 1, 24, 25 ), PoolIntArray( 26, 2, 25, 27 ), PoolIntArray( 26, 27, 28, 29 ), PoolIntArray( 30, 26, 29, 6, 7, 8 ), PoolIntArray( 31, 32, 33, 21 ), PoolIntArray( 15, 34, 11 ), PoolIntArray( 35, 15, 14, 36 ), PoolIntArray( 37, 30, 8, 0 ), PoolIntArray( 33, 18, 21 ), PoolIntArray( 31, 21, 35 ), PoolIntArray( 31, 35, 36, 10 ), PoolIntArray( 10, 36, 16 ), PoolIntArray( 37, 0, 2 ) ]
outlines = [ PoolVector2Array( 955.003, 138.795, 956.31, 250.419, 179.739, 255.031, 189.734, 780.977, 244.444, 784.577, 245.061, 1012.77, -247.449, 1014.65, -246.845, 967.555, 205.968, 967.555, 200.532, 882.479, -88.1364, 878.16, -88.1364, 798.254, -234.817, 777.343, -231.066, 564.223, -84.4539, 558.417, -83.1076, 351.004, -231.872, 350.038, -207.841, 266.643, -138.163, 318.901, -49.6153, 315.998, 82.6824, 272.758, 79.6636, 202.723, 342.899, 208.761, 341.812, 108.779, -48.8146, 109.987, -51.2296, -10.6426, 36.0297, -62.8719, 36.0297, -237.065, 234.103, -234.634, 234.103, 72.6751, 392.286, 72.0713, 390.475, -78.8664, 325.27, -80.6776, 326.477, -241.879, 502.772, -240.672, 504.583, -71.6214, 438.775, -72.2251, 442.397, 142.589 ), PoolVector2Array( 113.912, 422.568, 109.297, 585.608, 227.732, 590.222, 227.732, 427.182 ) ]

[node name="Level1" type="Node2D"]
position = Vector2( 16.557, 4.31927 )

[node name="Navigation2D" type="Navigation2D" parent="."]
editor/display_folded = true
script = ExtResource( 1 )

[node name="NavigationPolygonInstance" type="NavigationPolygonInstance" parent="Navigation2D"]
visible = false
navpoly = SubResource( 1 )

[node name="Destination" type="Node2D" parent="Navigation2D"]
editor/display_folded = true
script = ExtResource( 2 )

[node name="Destination1" type="Position2D" parent="Navigation2D/Destination"]
position = Vector2( -203.143, -169.286 )

[node name="Destination2" type="Position2D" parent="Navigation2D/Destination"]
position = Vector2( 220.656, -168.119 )

[node name="Destination3" type="Position2D" parent="Navigation2D/Destination"]
position = Vector2( 214.818, 93.3992 )

[node name="Destination4" type="Position2D" parent="Navigation2D/Destination"]
position = Vector2( 877.952, 220.656 )

[node name="Destination5" type="Position2D" parent="Navigation2D/Destination"]
position = Vector2( 388.774, 215.986 )

[node name="Destination6" type="Position2D" parent="Navigation2D/Destination"]
position = Vector2( 14.0098, 456.488 )

[node name="Destination7" type="Position2D" parent="Navigation2D/Destination"]
position = Vector2( -149.439, 312.887 )

[node name="Destination8" type="Position2D" parent="Navigation2D/Destination"]
position = Vector2( 218.321, 834.755 )

[node name="Destination9" type="Position2D" parent="Navigation2D/Destination"]
position = Vector2( -148.271, 804.4 )

[node name="Destination10" type="Position2D" parent="Navigation2D/Destination"]
position = Vector2( 127.256, 993.534 )

[node name="Floors" type="TileMap" parent="."]
tile_set = ExtResource( 3 )
format = 1
tile_data = PoolIntArray( -262149, 4, 0, -262148, 4, 0, -262147, 4, 0, -262146, 4, 0, -262145, 4, 0, -327680, 4, 0, -327679, 4, 0, -327678, 4, 0, -327677, 4, 0, -327676, 4, 0, -327669, 4, 0, -327668, 4, 0, -327667, 4, 0, -327666, 4, 0, -327665, 4, 0, -196613, 4, 0, -196612, 4, 0, -196611, 4, 0, -196610, 4, 0, -196609, 4, 0, -262144, 4, 0, -262143, 4, 0, -262142, 4, 0, -262141, 4, 0, -262140, 4, 0, -262139, 16, 0, -262138, 16, 0, -262137, 16, 0, -262133, 4, 0, -262132, 4, 0, -262131, 4, 0, -262130, 4, 0, -262129, 4, 0, -131077, 4, 0, -131076, 4, 0, -131075, 4, 0, -131074, 4, 0, -131073, 4, 0, -196608, 4, 0, -196607, 4, 0, -196606, 4, 0, -196605, 4, 0, -196604, 4, 0, -196603, 16, 0, -196602, 16, 0, -196601, 16, 0, -196600, 16, 0, -196597, 4, 0, -196596, 4, 0, -196595, 4, 0, -196594, 4, 0, -196593, 4, 0, -65541, 4, 0, -65540, 4, 0, -65539, 4, 0, -65538, 4, 0, -65537, 4, 0, -131072, 4, 0, -131071, 4, 0, -131070, 4, 0, -131069, 4, 0, -131068, 4, 0, -131067, 16, 0, -131066, 16, 0, -131065, 16, 0, -131061, 4, 0, -131060, 4, 0, -131059, 4, 0, -131058, 4, 0, -131057, 4, 0, -5, 4, 0, -4, 4, 0, -3, 4, 0, -2, 2, 0, -1, 4, 0, -65536, 4, 0, -65535, 4, 0, -65534, 4, 0, -65533, 4, 0, -65532, 4, 0, -65531, 4, 0, -65530, 4, 0, -65529, 4, 0, -65528, 4, 0, -65525, 4, 0, -65524, 4, 0, -65523, 4, 0, -65522, 4, 0, -65521, 4, 0, 65531, 4, 0, 65532, 4, 0, 65533, 4, 0, 65534, 4, 0, 65535, 4, 0, 0, 4, 0, 1, 4, 0, 2, 4, 0, 3, 4, 0, 4, 4, 0, 5, 4, 0, 6, 4, 0, 7, 4, 0, 8, 4, 0, 11, 4, 0, 12, 4, 0, 13, 4, 0, 14, 4, 0, 15, 4, 0, 131067, 4, 0, 131068, 4, 0, 131069, 4, 0, 131070, 4, 0, 131071, 4, 0, 65536, 4, 0, 65537, 4, 0, 65538, 4, 0, 65539, 4, 0, 65540, 4, 0, 65541, 4, 0, 65542, 4, 0, 65543, 4, 0, 65544, 4, 0, 65545, 4, 0, 65546, 4, 0, 65547, 4, 0, 65548, 4, 0, 65549, 4, 0, 65550, 4, 0, 65551, 4, 0, 196603, 4, 0, 196604, 4, 0, 196605, 4, 0, 196606, 4, 0, 196607, 4, 0, 131072, 4, 0, 131073, 4, 0, 131074, 4, 0, 131075, 4, 0, 131076, 4, 0, 131077, 4, 0, 131078, 4, 0, 131079, 4, 0, 131080, 2, 0, 131081, 4, 0, 131082, 4, 0, 131083, 4, 0, 131084, 4, 0, 131085, 4, 0, 131086, 4, 0, 131087, 4, 0, 262139, 4, 0, 262140, 4, 0, 262141, 4, 0, 262142, 2, 0, 262143, 4, 0, 196608, 2, 0, 196609, 4, 0, 196610, 4, 0, 196611, 4, 0, 196612, 4, 0, 196613, 4, 0, 196614, 4, 0, 196615, 4, 0, 196616, 4, 0, 196617, 4, 0, 196618, 4, 0, 196619, 4, 0, 196620, 4, 0, 196621, 4, 0, 196622, 4, 0, 196623, 4, 0, 327675, 4, 0, 327676, 4, 0, 327677, 4, 0, 327678, 4, 0, 327679, 4, 0, 262144, 4, 0, 262145, 4, 0, 262146, 4, 0, 262147, 4, 0, 262148, 4, 0, 262149, 4, 0, 262150, 4, 0, 262151, 4, 0, 262152, 4, 0, 262153, 4, 0, 262154, 4, 0, 262155, 4, 0, 262156, 4, 0, 262157, 4, 0, 262158, 4, 0, 262159, 4, 0, 393211, 4, 0, 393212, 4, 0, 393213, 4, 0, 393214, 2, 0, 393215, 4, 0, 327680, 4, 0, 327681, 4, 0, 327682, 4, 0, 327683, 4, 0, 327684, 4, 0, 458747, 4, 0, 458748, 4, 0, 458749, 4, 0, 458750, 4, 0, 458751, 4, 0, 393216, 4, 0, 393217, 4, 0, 393218, 4, 0, 393219, 4, 0, 393220, 4, 0, 524283, 4, 0, 524284, 4, 0, 524285, 2, 0, 524286, 4, 0, 524287, 4, 0, 458752, 4, 0, 458753, 4, 0, 458754, 4, 0, 458755, 4, 0, 458756, 4, 0, 589819, 4, 0, 589820, 4, 0, 589821, 4, 0, 589822, 4, 0, 589823, 4, 0, 524288, 4, 0, 524289, 4, 0, 524290, 4, 0, 524291, 4, 0, 524292, 4, 0, 655355, 4, 0, 655356, 4, 0, 655357, 4, 0, 655358, 4, 0, 655359, 4, 0, 589824, 4, 0, 589825, 4, 0, 589826, 4, 0, 589827, 4, 0, 589828, 4, 0, 720891, 4, 0, 720892, 4, 0, 720893, 4, 0, 720894, 4, 0, 720895, 4, 0, 655360, 4, 0, 655361, 4, 0, 655362, 4, 0, 655363, 4, 0, 655364, 4, 0, 786427, 4, 0, 786428, 4, 0, 786429, 4, 0, 786430, 4, 0, 786431, 4, 0, 720896, 4, 0, 720897, 4, 0, 720898, 4, 0, 720899, 4, 0, 720900, 4, 0, 851963, 4, 0, 851964, 4, 0, 851965, 2, 0, 851966, 4, 0, 851967, 4, 0, 786432, 4, 0, 786433, 4, 0, 786434, 4, 0, 786435, 4, 0, 786436, 4, 0, 917499, 4, 0, 917500, 4, 0, 917501, 4, 0, 917502, 4, 0, 917503, 4, 0, 851968, 4, 0, 851969, 4, 0, 851970, 4, 0, 851971, 4, 0, 851972, 4, 0, 983035, 4, 0, 983036, 4, 0, 983037, 4, 0, 983038, 4, 0, 983039, 4, 0, 917504, 4, 0, 917505, 4, 0, 917506, 4, 0, 917507, 4, 0, 917508, 4, 0, 1048571, 4, 0, 1048572, 14, 0, 1048573, 14, 0, 1048574, 14, 0, 1048575, 14, 0, 983040, 14, 0, 983041, 14, 0, 983042, 14, 0, 983043, 14, 0 )

[node name="Doors" type="Node2D" parent="."]

[node name="Door" parent="Doors" instance=ExtResource( 4 )]
position = Vector2( 865.155, 93.5302 )

[node name="Door2" parent="Doors" instance=ExtResource( 4 )]
position = Vector2( 281.942, 96.1286 )
rotation = 1.5708

[node name="Door3" parent="Doors" instance=ExtResource( 4 )]
position = Vector2( 417.155, -17.4698 )

[node name="DoorsLocked" type="Node2D" parent="."]

[node name="LockedDoor" parent="DoorsLocked" instance=ExtResource( 5 )]
position = Vector2( 141.127, 222.095 )
rotation = 1.5708

[node name="LockedDoor3" parent="DoorsLocked" instance=ExtResource( 5 )]
position = Vector2( -77.5168, 93.8514 )
rotation = 1.5708

[node name="LockedDoor2" parent="DoorsLocked" instance=ExtResource( 5 )]
position = Vector2( 222.709, 929.237 )

[node name="Player" parent="." instance=ExtResource( 6 )]
editor/display_folded = true
position = Vector2( 909.861, -96.0368 )
collision_mask = 1

[node name="Camera2D" type="Camera2D" parent="Player"]
current = true

[node name="VisionModeTimer" type="Timer" parent="Player"]
wait_time = 1.5

[node name="SecurityCameras" type="Node2D" parent="."]
position = Vector2( 1, 1 )

[node name="SecurityCamera1" parent="SecurityCameras" instance=ExtResource( 7 )]
position = Vector2( 486.488, 21.4151 )
rotation = 1.5708

[node name="SecurityCamera2" parent="SecurityCameras" instance=ExtResource( 7 )]
position = Vector2( 242.421, -238.493 )
rotation = 2.0944

[node name="SecurityCamera3" parent="SecurityCameras" instance=ExtResource( 7 )]
position = Vector2( 236.584, 298.876 )
rotation = 3.14159

[node name="Walls" type="TileMap" parent="."]
tile_set = ExtResource( 8 )
collision_layer = 2
format = 1
tile_data = PoolIntArray( -262149, 0, 262144, -262148, 0, 262146, -262147, 0, 262146, -262146, 0, 262146, -262145, 0, 262146, -327680, 0, 262146, -327679, 0, 262146, -327678, 0, 262146, -327677, 0, 262146, -327676, 0, 262147, -327675, 0, 262146, -327674, 0, 262146, -327673, 0, 262146, -327672, 0, 262145, -327669, 0, 262144, -327668, 0, 262146, -327667, 0, 262146, -327666, 0, 262146, -327665, 0, 262145, -196613, 0, 327682, -262140, 0, 327682, -262136, 0, 327682, -262133, 0, 327682, -262129, 0, 327682, -131077, 0, 327682, -196604, 0, 327682, -196600, 0, 327682, -196597, 0, 327682, -196593, 0, 327682, -65541, 0, 327682, -131068, 0, 327682, -131064, 0, 327682, -131061, 0, 327682, -131057, 0, 327682, -5, 0, 327682, -65532, 0, 327683, -65531, 0, 262149, -65529, 0, 327686, -65528, 0, 327684, -65525, 0, 327682, -65521, 0, 327682, 65531, 0, 327683, 65532, 0, 262146, 65533, 0, 262146, 65534, 0, 262149, 4, 0, 262150, 8, 0, 327682, 11, 0, 327682, 15, 0, 327682, 131067, 0, 327682, 65544, 0, 327680, 65545, 0, 262146, 65546, 0, 262146, 65547, 0, 262148, 65548, 0, 262149, 65550, 0, 327686, 65551, 0, 327684, 196603, 0, 327683, 196604, 0, 262146, 196605, 0, 262146, 196606, 0, 262146, 196607, 0, 262146, 131072, 0, 262146, 131073, 0, 262146, 131074, 0, 262146, 131075, 0, 262146, 131076, 0, 262149, 131087, 0, 327682, 262139, 0, 327682, 196623, 0, 327682, 327675, 0, 327682, 262148, 0, 262144, 262149, 0, 262146, 262150, 0, 262146, 262151, 0, 262146, 262152, 0, 262146, 262153, 0, 262146, 262154, 0, 262146, 262155, 0, 262146, 262156, 0, 262146, 262157, 0, 262146, 262158, 0, 262146, 262159, 0, 327681, 393211, 0, 327682, 327684, 0, 327682, 458747, 0, 327682, 393220, 0, 327682, 524283, 0, 327682, 458756, 0, 327682, 589819, 0, 327682, 524292, 0, 327682, 655355, 0, 327682, 589828, 0, 327682, 720891, 0, 327682, 655364, 0, 327682, 786427, 0, 327682, 720900, 0, 327682, 851963, 0, 327682, 786436, 0, 327682, 917499, 0, 327682, 851972, 0, 327682, 983035, 0, 327683, 983036, 0, 262146, 983037, 0, 262146, 983038, 0, 262146, 983039, 0, 262146, 917504, 0, 262146, 917505, 0, 262146, 917506, 0, 262149, 917508, 0, 327682, 1048571, 0, 327682, 983044, 0, 327682, 1114107, 0, 327680, 1114108, 0, 262146, 1114109, 0, 262146, 1114110, 0, 262146, 1114111, 0, 262146, 1048576, 0, 262146, 1048577, 0, 262146, 1048578, 0, 262146, 1048579, 0, 262146, 1048580, 0, 327681 )

[node name="VisionMode" type="CanvasModulate" parent="."]
editor/display_folded = true
visible = false
color = Color( 0.113725, 0.0901961, 0.494118, 1 )
script = ExtResource( 9 )

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="VisionMode"]

[node name="Character" parent="." instance=ExtResource( 10 )]
position = Vector2( 875.761, 194.446 )

[node name="Guards" type="Node2D" parent="."]
editor/display_folded = true

[node name="Guard" parent="Guards" instance=ExtResource( 11 )]
position = Vector2( 42.6057, 835.089 )

[node name="Guard2" parent="Guards" instance=ExtResource( 11 )]
position = Vector2( 351.208, -94.3407 )

[node name="Guard3" parent="Guards" instance=ExtResource( 11 )]
position = Vector2( 482.582, -216.341 )
rotation = -3.1178

[node name="Guard4" parent="Guards" instance=ExtResource( 11 )]
position = Vector2( 795.823, 156.923 )
rotation = -3.1178

[node name="Furniture" type="TileMap" parent="."]
tile_set = ExtResource( 12 )
collision_layer = 2
format = 1
tile_data = PoolIntArray( -131073, 1610612742, 0, -196603, 1610612743, 0, -65537, 1610612742, 0, 65534, 1610612743, 0, 14, 1610612743, 0, 196608, 1610612739, 0, 327678, 1610612736, 0, 327683, 1610612743, 0, 655357, -1610612731, 0, 655359, 1610612737, 0, 589824, 1610612737, 0, 720895, 1610612737, 0, 655360, 1610612737, 0, 655363, -2147483644, 0, 786431, 1610612737, 0, 720896, 1610612737, 0 )

[node name="Computers" type="Node2D" parent="."]

[node name="Computer" parent="Computers" instance=ExtResource( 13 )]
position = Vector2( -25.9289, 221.447 )
rotation = 1.5708
lock_group = "WZ"

[node name="Computer2" parent="Computers" instance=ExtResource( 13 )]
position = Vector2( 351.092, 9.81094 )
rotation = 1.5708
code_length = 6
lock_group = "Floor"

[node name="CodeGenerator" parent="." instance=ExtResource( 14 )]

[node name="Map Labels" type="Node2D" parent="."]

[node name="Label" type="Label" parent="Map Labels" groups=[
"code_labels",
]]
margin_left = -123.861
margin_top = 985.036
margin_right = -27.861
margin_bottom = 1008.04
theme = ExtResource( 15 )
text = "OUTDOOR"

[node name="Label2" type="Label" parent="Map Labels" groups=[
"code_labels",
]]
margin_left = -64.3688
margin_top = -236.994
margin_right = 31.6312
margin_bottom = -213.994
theme = ExtResource( 15 )
text = "Sleeping"

[node name="Label4" type="Label" parent="Map Labels" groups=[
"code_labels",
]]
margin_left = 812.78
margin_top = -233.272
margin_right = 917.78
margin_bottom = -203.272
theme = ExtResource( 15 )
text = "Cooking"

[node name="Label3" type="Label" parent="Map Labels" groups=[
"code_labels",
]]
margin_left = -26.3326
margin_top = 519.826
margin_right = 69.6674
margin_bottom = 542.826
theme = ExtResource( 15 )
text = "TV Room"

[connection signal="timeout" from="Player/VisionModeTimer" to="Player" method="_on_VisionModeTimer_timeout"]
[connection signal="combination" from="Computers/Computer" to="DoorsLocked/LockedDoor" method="_on_Computer_combination"]
[connection signal="combination" from="Computers/Computer" to="DoorsLocked/LockedDoor2" method="_on_Computer_combination"]
[connection signal="combination" from="Computers/Computer2" to="DoorsLocked/LockedDoor3" method="_on_Computer_combination"]
